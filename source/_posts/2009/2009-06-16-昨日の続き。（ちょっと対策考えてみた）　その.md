---
title: 昨日の続き。（ちょっと対策考えてみた）　その１
author: 八雲
type: post
date: 2009-06-15T15:27:21+00:00
url: /2009/06/1313
categories:
  - 日記

---
昨日の続き。
  
知人の日記を見逃してましたとあってはさすがに人徳の八雲様の名が廃る。
  
＃誰もそんなこと言ってません。念のため。

仕事モードに入って読みのがした原因をまともに考えてみる。
  
…どうやっても一個しか浮かばない。
  
そりゃ、如月さんとこの日記がRSSを吐いてない。これに尽きる。
  
＃吐いてれば毎日チェック入れるはずなので。おぼろん、更新待ってますよw
  
元々、携帯用の日記CGIぽいのでRSSを吐いてくれなんてのが無茶な話。
  
一応確認したけれども、今のところRSSは陰も形も無く。

…となれば作るしかないですよね？
  
＃一応本職らしいし。近頃プログラム書かないので腕がなまってるし。
  
ちょうど良いことにサーバーも手頃なところに（ここ）あるし。

という訳で無理くりRSSを吐くための何かを作ることにする。
  
とりあえず、如月さんとこの日記（いい加減めんどくさいので以下匠日記と略）
  
の出力をよーく眺めてみる。

うーん…なんだか前時代的な出力… 逆に言えばブラウザを選ばず
  
割と同じような出力になりそうな感じの書き方。
  
…って、別にHTMLの採点をしたいわけじゃないので、マジメに本筋に戻る。

XPathとか使って値が取れそうか？→NO
  
まともにclassとかついてない感じ。

機械的に読み込みできそうなパターンがあるか→YES
  
割と単純な繰り替えしで出来ている。コメントが無くても
  
コメント表示用の部品があるあたりが親切。

とりあえず現時点でのプラン：
  
言語：Ruby(単純に使ってみたいだけ）
  
方針：頭から力技で解釈する。
  
入力：匠日記の出力したHTML（１ページ目のみ）
  
出力：RSS形式
  
目標１：とりあえず本文だけでもRSS化
  
目標２：コメントもRSSに乗せる
  
期限：遊び半分なのでとりあえずなし。

とりあえずこんなところかな。